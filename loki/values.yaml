deploymentMode: SingleBinary

loki:
  auth_enabled: false

  commonConfig:
    replication_factor: 1

  schemaConfig:
    configs:
      - from: "2023-10-01"
        store: tsdb
        object_store: filesystem
        schema: v13
        index:
          prefix: loki_index_
          period: 24h

  storage:
    type: filesystem
    filesystem:
      chunks_directory: /var/loki/chunks
      rules_directory: /var/loki/rules

  limits_config:
    allow_structured_metadata: true

singleBinary:
  replicas: 1
  persistence:
    enabled: true
    size: 10Gi

# Disable EVERYTHING else explicitly
write:
  replicas: 0
read:
  replicas: 0
backend:
  replicas: 0

ingester:
  replicas: 0
distributor:
  replicas: 0
querier:
  replicas: 0
queryFrontend:
  replicas: 0
queryScheduler:
  replicas: 0
indexGateway:
  replicas: 0
compactor:
  replicas: 0

minio:
  enabled: false

# --- HARD DISABLE GRAFANA AGENT / MONITORING ---
monitoring:
  enabled: false

grafanaAgent:
  enabled: false

grafana-agent-operator:
  enabled: false

agent:
  enabled: false

metricsInstance:
  enabled: false

# --- HARD DISABLE QUERY SCHEDULER DISCOVERY ---
queryScheduler:
  enabled: false

querySchedulerDiscovery:
  enabled: false

# --- ENSURE NO DISTRIBUTED SERVICES ---
distributor:
  enabled: false
ingester:
  enabled: false
querier:
  enabled: false
queryFrontend:
  enabled: false
indexGateway:
  enabled: false
compactor:
  enabled: false
ruler:
  enabled: false



prometheus:
  server:
    enabled: true
    replicaCount: 1
    retention: "15d"

    # REQUIRED â€“ enable remote write receiver
    extraArgs:
      web.enable-remote-write-receiver: ""

    service:
      type: NodePort
      port: 9090
      nodePort: 30090

    persistentVolume:
      enabled: true
      size: 10Gi
      storageClass: local-path

    global:
      scrape_interval: 15s
      evaluation_interval: 15s



    extraScrapeConfigs: |
      - job_name: "grafana-agent"
        static_configs:
          - targets:
              - grafana-agent.monitoring.svc.cluster.local:12345

# ðŸ”´ Disable bundled Alertmanager (you use standalone GitOps chart)
alertmanager:
  enabled: true

alertmanager:
  service:
    type: NodePort
    nodePort: 30903
  

pushgateway:
  enabled: false

kubeStateMetrics:
  enabled: true

nodeExporter:
  enabled: true

crds:
  enabled: false

serverFiles:
  alerting_rules.yml:
    groups:
      - name: test-alerts
        rules:
          - alert: AlertmanagerTest
            expr: vector(1)
            for: 10s
            labels:
              severity: warning
            annotations:
              summary: "Test alert from Prometheus"
              description: "This is a test alert to verify Alertmanager connectivity"

 
  

prometheus:
  server:
    enabled: true
    replicaCount: 1
    retention: "15d"

    # ðŸ”´ REQUIRED FIX â€“ ENABLE REMOTE WRITE RECEIVER
    extraArgs:
      web.enable-remote-write-receiver: ""

    service:
      type: NodePort
      port: 9090
      nodePort: 30090

    persistentVolume:
      enabled: true
      size: 10Gi
      storageClass: local-path

    global:
      scrape_interval: 15s
      evaluation_interval: 15s

    extraScrapeConfigs: |
      - job_name: "grafana-agent"
        static_configs:
          - targets:
              - grafana-agent.monitoring.svc.cluster.local:12345

  alertmanager:
    enabled: false

  pushgateway:
    enabled: false

  kubeStateMetrics:
    enabled: true

  nodeExporter:
    enabled: true

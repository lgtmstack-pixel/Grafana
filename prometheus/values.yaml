server:
  enabled: true

  replicaCount: 1   # <-- explicitly force ONE Prometheus pod

  retention: "15d"

  service:
    type: NodePort
    port: 9090
    nodePort: 30090   # optional; remove if you want auto-assigned

  persistentVolume:
    enabled: true
    size: 10Gi
    storageClass: local-path

  global:
    scrape_interval: 15s
    evaluation_interval: 15s

  extraScrapeConfigs: |
    - job_name: "grafana-agent"
      static_configs:
        - targets:
            - grafana-agent.monitoring.svc.cluster.local:12345

alertmanager:
  enabled: false   # no alertmanager pod

pushgateway:
  enabled: false   # no pushgateway pod

kubeStateMetrics:
  enabled: true    # 1 deployment pod

nodeExporter:
  enabled: true    # DaemonSet (1 pod per node â€” EXPECTED)
